<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <link rel="shortcut icon" type="image/x-icon" href="./assets/img/icon.png">
    <title>Dashboard - Gestão de Projeto</title>
    <link href="./assets/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="./assets/dist/js/jquery-3.6.0.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="./assets/dist/js/sweetalert2.all.min.js"></script>
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <script src="./assets/dist/js/pace.js"></script>
    <link rel="stylesheet" href="./assets/dist/css/red/radar.css">
    <script src="./assets/dist/js/notify.js"></script>
    <style>
      body {
        background: url(./assets/img/concreto.jpg) no-repeat center top fixed;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
      }
      #corpo{
        background-color: #1C1C1C;
      }
      #principal{
        background-color: #242323;
        opacity : 0.7;
      }
      .info{
        background-color: #000000;
        border-radius: 30px;
        margin-left: 8px;
        margin-top: 3px;
        padding: 0.6rem;
      }
    </style>
  </head>
  <body>
    <div id="header"></div><br /><br /><br />
    <div class="col-sm-11 d-flex justify-content-center" style="color: #FFFFFF;">
      <select class="form-control" id="programa_selecionar" onchange="programa_buscar(this.value)" style="width: 50%;"></select>
    </div>
    <br />
    <div id="principal" class="container-fluid p-4 mb-2 text-white border border-secondary" style="border-radius: 20px;">

      <div class="info">
        <div class="row">
          <div class="col-sm-3"><h4 id="programa_nome">Cidade X</h4></div>
          <div class="col-sm-5"><div class="progress" id="programa_progresso"><div class="progress-bar bg-primary" id="progress_parcial" role="progressbar" style="width: 35%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100">35%</div></div></div>
          <div class="col-sm-3" id="programa_total">Total: R$2.450.120,12</div>
        </div>
        <table class="table table-dark table-hover table-striped">
         <thead>
            <tr>
              <th>Projeto</th>
              <th>Responsáveis</th>
              <th>Valor Total</th>
              <th>Gasto</th>
              <th>Detalhar Itens</th>
              <th>Solicitar</th>
              <th>Status</th>
              <th>Solicitações</th>
              <th>Progresso</th>
            </tr>
          </thead>
          <tbody>

          </tbody>
        </table>
      </div>

    </div>
    <br/>
    <script src="./assets/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./assets/dist/js/geral.js"></script>

    <script>
      $("#header").load("menu/menu.html");
      $(document).ready( function ($){
        verificar();
      });
      var array_programas = [];

      function programa_buscar(id){
        console.log(id);
      }

      async function iniciar(){
        if(sessionStorage.login === "OK"){
          array_programas = await listar_programas();
          let options = '<option selected disabled>Selecione um Programa para exibir os projetos relacionados</option>';
          array_programas.map((item, index)=>{
            options += `<option value="${item.id}">${item.nome}</option>`;
          });
          document.getElementById('programa_selecionar').innerHTML = options;
        }
      }

      iniciar();
    </script>
  </body>
</html>
